
{% extends "home.html" %}

{% block title %}Change Password{% endblock %}

{% block head %}
  <title>Change Password</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script type="text/javascript" src="{{ url_for('static', filename='js/change_password.js')}}" defer></script>
  <link rel="stylesheet" href="{{ url_for('static', filename='css/home.css' )}}">
  <script type="text/javascript" src="{{ url_for('static', filename='js/home.js')}}" defer></script>
  <link rel="stylesheet" href="{{ url_for('static', filename='css/change_password.css' )}}">
{% endblock %}

{% block content %}
<main>
    <h1>Change password</h1>
    
    <form method="post" action="" class="container">
        {{ form.hidden_tag() }}

        <label for="current_password">Current Password</label>
        {{ form.current_password(autocomplete="off") }} 

        <label for="new_password">New Password</label>
        {{ form.new_password(autocomplete="off")}}

        <label for="confirm_password">Confirm Password</label>
        {{ form.confirm_password(autocomplete="off") }}
    
        <div class="submitBTN">
            {{ form.submit }}
        </div>

        {% for error in form.confirm_password.errors %}
            <ul class="flashes">
              <li class="flash error">{{ error }}</li>
            </ul>
        {% endfor %}

        {% with messages = get_flashed_messages(with_categories=true) %}
          {% if messages %}
            <ul class="flashes">
              {% for category, message in messages %}
                <li class="flash {{ category|lower }}">{{ message }}</li>
              {% endfor %}
            </ul>
          {% endif %}
        {% endwith %}  
    </form>
</main>
{% endblock %}